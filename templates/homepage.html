{% extends "base.html" %}
{% block body -%}
<div id="header">
    <div class="logo"><a href="/"><img src="{{ url_for('static', filename='images/lmfdb-logo.png') }}" /></a></div>
    <div class="right">
      <div class="bread">
        <a href="/">Top</a>
        {% for b in bread -%}
          &rarr; <a href="{{ b[1] }}">{{ b[0] }}</a>
        {%- endfor %}
      </div>
      <div class="userinfo">
          {% if user.is_authenticated() -%}
            <a href="{{ url_for('users.info') }}">{{ username }}</a> 
            &middot;
            <a href="{{ url_for('users.logout') }}">Logout</a>
          {%- else -%}
            <a href="{{ url_for('users.register') }}">Register</a>
            &middot;
            <a href="{{ url_for('users.info') }}">Login</a>
          {%- endif %}
      </div>
      {# this span inside a div thing is necessary to align it at the bottom, see css #}
      <div id="title"><span id="title-content">{{ title }}</span></div>
    </div>
</div>

{% block sidebar -%} 
<div id="sidebar">

 {% macro entry(title, entries) -%}
   {% if entries %}
    <h2>{{ title }}</h2>
    <ul class="subnav">
        {% for text,url in entries %}
           <li><a href="{{ url }}">{{ text }}</a></li>
        {% endfor %}
    </ul>
   {% endif %}
 {%- endmacro %}

 <h2 id="top">Navigation</h2>
 {{ index() }}

 {{ entry("Downloads", info.downloads) }}
 {{ entry("Learn more about", info.learnmore) }}
 {{ entry("Friends", info.friends) }}

 {% if sidebar -%}
  {% for topic, content in sidebar -%}
    {{ entry(topic, content) }}
  {%- endfor %}
 {%- endif %}

</div>
{%- endblock sidebar %}

    {% if properties2 %}
      <div id="properties">
       <h1 id="properties-header">Properties</h1>
       <div id="properties-body">
       {% for label, content in properties2 %}
         {% if label %}<h2>{{ label }}</h2>{% endif %}
        <div>
          {% if content is string  %}
            {{ content|safe }}
          {% else %}
            {{ p[1]|join('<br/>') }}
          {% endif %}
        </div>
       {% endfor %} 
      </div>
     </div>
    {% endif %}

    {% if (citation or properties) -%}
      <div id="properties">
       <h1 id="properties-header">Properties</h1>
       <div id="properties-body">
        {% if citation -%}
         <h1>Citation</h1>
         {{ citation }}
        {%- endif %} 
        {% if properties -%}
         <h1>Properties</h1>
         {% for p in properties -%}{{ p|safe }}{%- endfor %}
        {%- endif %}
      </div>
    </div>
    {%- endif %}


<div id="main">
  <div id="content">
    {% with msgs = get_flashed_messages(with_categories=true) -%}
      <div id="flashes">
        {% for cat, msg in msgs -%}
          <p class="{{ cat }}">{{ msg }}</p>
        {%- endfor %}
      </div>
    {%- endwith %}

    {% block content -%}
    There is nothing here. This is just a template.
    {%- endblock content %}
  </div>
</div>

<div id="footer">
    {% if credit -%}
      &copy; Data computed by {{ credit|safe }}.<br />
    {%- endif %}
    
    {% if support -%}
      {{ support|safe }}<br/>
    {%- else -%}
       The creation of this website was supported by the NSF, AIM ...<br />
    {%- endif %}
    Number Theory, the Queen of Mathematics!
</div>

{%- endblock body %}

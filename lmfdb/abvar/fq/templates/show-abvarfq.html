{% extends "homepage.html" %}

{% block content %}

<h2>Invariants</h2>

<p>
<table>
    <tr><td>{{ KNOWL('ag.base_field',title = "Base field") }}:</td><td>&nbsp;&nbsp;${{cl.field()}}$</td></tr>
    <tr><td>{{ KNOWL('ag.dimension',title = "Dimension") }}:</td><td>&nbsp;&nbsp;${{cl.g}}$</td></tr>
    <tr><td>{{ KNOWL('av.fq.weil_polynomial',title='Weil polynomial') }}:</td><td>&nbsp;&nbsp;${{cl.formatted_polynomial}}$</td></tr>
    <tr><td>{{KNOWL('av.fq.frobenius_angles',title='Frobenius angles')}}:</td><td>&nbsp;&nbsp;{{cl.frob_angles()}}</td></tr>
    <tr><td>{{ KNOWL('av.fq.angle_rank',title="Angle rank") }}:</td><td>&nbsp;&nbsp;${{cl.angle_rank}}$ ({{KNOWL('av.fq.frobenius_angles_correctness',title='numerical')}})</td></tr>
    {% if cl.is_simple %}
    <tr><td>{{KNOWL('av.fq.number_field',title='Number field')}}:</td><td>&nbsp;&nbsp;{{cl.display_number_field()|safe}}</td></tr>
    <tr><td>{{KNOWL('av.fq.galois_group',title='Galois group')}}:</td><td>&nbsp;&nbsp;{{cl.display_galois_group()|safe}}</td></tr>
    {% endif %}
</table>
</p>

<p>
{% if cl.is_simple %}
This isogeny class is {{ KNOWL('av.simple',title="simple") }}.
{% endif %}
</p>

<h2>{{ KNOWL('lf.newton_polygon',title="Newton polygon") }}</h2>

<p>
{% if cl.is_ordinary() %}
This isogeny class is {{KNOWL('av.fq.ordinary',title='ordinary')}}.
{% endif %}
{% if cl.is_supersingular() %}
This isogeny class is {{KNOWL('av.fq.supersingular',title='supersingular')}}.
{% endif %}
</p>

<img src="{{cl.newton_plot()}}" width="500" height="250">

<table>
    <tr><td>{{ KNOWL('av.fq.p_rank',title="$p$-rank") }}:</td><td>&nbsp;&nbsp;${{cl.p_rank}}$</td></tr>
    <tr><td>{{KNOWL('lf.newton_slopes',title='Slopes')}}:</td><td>&nbsp;&nbsp;${{cl.display_slopes()}}$</td></tr>
</table>



<h2>Point counts</h2>

<p>
{% if cl.has_principal_polarization == 1 %}
{% if cl.has_jacobian == 1 %}
This isogeny class contains a {{KNOWL('ag.jacobian',title='Jacobian')}}, and hence is {{ KNOWL('av.princ_polarizable', title = 'principally polarizable')}}.
{% elif cl.has_jacobian == -1 %}
This isogeny class is {{ KNOWL('av.princ_polarizable', title = 'principally polarizable')}}, but does not contain a {{KNOWL('ag.jacobian',title='Jacobian')}}.
{% else %}
This isogeny class is {{KNOWL('av.princ_polarizable', title = 'principally polarizable')}}, but it is unknown whether it contains a {{KNOWL('ag.jacobian',title='Jacobian')}}.
{% endif %}
{% elif cl.has_principal_polarization == -1 %}
This isogeny class is not {{KNOWL('av.princ_polarizable', title = 'principally polarizable')}}, and therefore does not contain a {{KNOWL('ag.jacobian',title='Jacobian')}}.
{% elif cl.has_jacobian == -1 %}
This isogeny class does not contain a {{KNOWL('ag.jacobian',title='Jacobian')}}, and it is unknown whether it is {{KNOWL('av.princ_polarizable', title = 'principally polarizable')}}.
{% endif %}
</p>

<p>{{ KNOWL('ag.fq.point_counts',title="Point counts of the abelian variety") }}

<table class = "ntdata">
    <tr><td>$r$</td>
        {% for r in range(1, cl.length_A_counts()+1) %}
        <td class="center"> {{ r }} </td>
        {% endfor %}
    </tr>
    <tr><td>$A(\F_{q^r})$</td>
        {% for count in cl.abvar_counts %}
        <td> {{ count }} </td>
        {% endfor %}
    </tr>
</table>
</p>

<p>
{% if cl.has_jacobian == 1 %}
{{ KNOWL('av.fq.curve_point_counts',title="Point counts of the curve") }}
{% else %}
{{ KNOWL('av.fq.curve_point_counts',title="Point counts of the (virtual) curve") }}
{% endif %}

<table class = "ntdata">
    <tr><td>$r$</td>
        {% for r in range(1, cl.length_C_counts()+1) %}
        <td class="center"> {{ r }} </td>
        {% endfor %}
    </tr>
    <tr><td>$C(\F_{q^r})$</td>
        {% for count in cl.curve_counts %}
        <td>{{ count }}</td>
        {% endfor %}
    </tr>
</table>

</p>


<h2>{{ KNOWL('av.decomposition',title="Decomposition") }} and {{ KNOWL ('ag.endomorphism_algebra', title="endomorphism algebra") }}</h2>

{% if cl.is_simple %}
This is a {{ KNOWL('av.simple',title="simple") }} isogeny class. Its {{ KNOWL('g2c.jac_end_lattice',title="endomorphism lattice")}} is:

{% if cl.is_endo_rational %}
<h4>Endomorphism algebra over ${{cl.field()}}$</h4>

All endomorphisms are defined over ${{cl.field()}}$.

{% else %}

<h4>Endomorphism algebra over ${{cl.field()}}$</h4>

All endomorphisms are defined over <b>say field here</b>.

<h4>Endomorphism algebra over ${{cl.alg_clo_field()}}$</h4>

<h4>Remainder of endomorphism lattice by field</h4>

{% for extension in cl.endo_extensions() %}



{% endfor %}


{% endif %}

{% else %}
This isogeny class decomposes as {{cl.decompositioninfo|safe}}, and therefore its endomorphism algebra is a direct sum of the endomorphism algebras for each isotypic factor. The {{ KNOWL('g2c.jac_end_lattice',title="endomorphism lattice")}} for each factor is

{% for factor in cl.simple_distinct %}

{% endfor %}

{% endif %}

<h2>Base change</h2>

<p>
{% if cl.is_primitive %}
This is a {{ KNOWL('ag.primitive',title="primitive") }} isogeny class.
{% else %}
This isogeny class is not {{ KNOWL('ag.primitive',title="primitive") }}.  It is a {{ KNOWL('ag.base_change',title="base change") }} from the following isogeny classes over subfields of ${{cl.field()}}$.
{{cl.basechangeinfo|safe}}
{% endif %}
</p>


{% endblock %}

{% extends 'homepage.html' %}
{% block content %}

<!-- Debugging! -->
{% if false %}
<hr>
<div>
Info was: {{info}}
</div>
{% endif %}

<div>
{{ info.stats.short_summary | safe }}
</div>

<h2> Browse <a href="./stats">statistics</a> or <a href="./dynamic_stats">create your own</a> </h2>
<h2> Browse {{ KNOWL('mf.elliptic',title='newforms')}}</h2>

<p>
  By {{ KNOWL('mf.elliptic.weight',title = "weight")}}:
  {% for weight in info.weight_list %}
  <a href="?weight={{weight}}">{{weight}}</a>&nbsp;
  {% endfor %}
</p>
<p>
  By {{ KNOWL('mf.elliptic.level', title="level")}}:
  {% for level in info.level_list %}
  <a href="?level={{level}}">{{level}}</a>&nbsp;
  {% endfor %}
</p>

{% for sublist in info.newform_list %}
<p>
  {% if loop.index == 1 %}
  Some interesting newforms:
  {% endif %}
  {% for newform in sublist %}
  <a href="{{ newform.url }}" title="{{ newform.reason }}"> {{ newform.label}} </a>&nbsp;
  {% endfor %}
</p>
{% endfor %}

<p>
  A <a href="?search_type=Dimensions&dim=1">table</a> of newforms with rational {{ KNOWL('mf.elliptic.q-expansion', title='\(q\)-expansion') }}
</p>

<h2> Browse {{ KNOWL('mf.elliptic',title='newspaces')}}</h2>

<p>
  By {{ KNOWL('mf.elliptic.weight',title = "weight")}}:
  {% for weight in info.weight_list %}
  <a href="?search_type=Spaces&weight={{weight}}">{{weight}}</a>&nbsp;
  {% endfor %}
</p>
<p>
  By {{ KNOWL('mf.elliptic.level', title="level")}}:
  {% for level in info.level_list %}
  <a href="?search_type=Spaces&level={{level}}">{{level}}</a>&nbsp;
  {% endfor %}
</p>

<p>
  Using a <a href="?search_type=SpaceDimensions">table of dimensions for \(\Gamma_1(N)\)</a>, or a <a href="?search_type=SpaceDimensions&char_order=1">table for \(\Gamma_0(N)\)</a> with trivial {{ KNOWL('mf.elliptic.character',title='character') }}
</p>

{% for sublist in info.space_list %}
<p>
  {% if loop.index == 1 %}
  Some interesting spaces:
  {% endif %}
  {% for space in sublist %}
  <a href = "{{ space.url }}" title="{{ space.reason }}"> {{ space.label}} </a>&nbsp;
  {% endfor %}
</p>
{% endfor %}

<h2> Find a specific newform or space by {{ KNOWL('mf.elliptic.label', title='label')}} </h2>

<form>
<input type='text' name='jump' placeholder='3.6.1.a'>
<button type='submit'>Search by label</button>
<br><span class="formexample">e.g. 3.6.1.a, 55.3.d or 20.5 </span>
</form>

{# SEARCHING #}

<h2> Search </h2>
<form id='search' onsubmit="cleanSubmit(this.id)">
  <table>
    <tr>

      <td colspan=2>{{ KNOWL('mf.elliptic.level', title='Level') }}</td>
      <td><input type='text' style="width: 130px;" name='level' placeholder='4'></td>
      <td><span class="formexample"> e.g. 4, 1-20</td>
      <td>{{ KNOWL('mf.elliptic.weight', title='Weight') }}</td>

      <td>
        <select class="simult_select" name="weight_parity" onchange="simult_change(event);">
          <option value="">any parity</option>
          <option value="even">even only</option>
          <option value="odd">odd only</option>
        </select>
      </td>
      <td><input type='text' style="width: 130px;" name='weight' placeholder='2'></td>
      <td><span class="formexample"> e.g. 2, 4-8 </span></td>
    </tr>

    <tr>
      <td>
        {{ KNOWL('mf.elliptic.bad_prime',title='Bad \(p\)') }}
      </td>
      <td>
        <select name='prime_quantifier' style="width: 85px;">
          <option value='subsets'>subset of</option>
          <option value='' selected='yes'>equal to</option>
          <option value='append'>superset of</option>
        </select>
      </td>
      <td><input type='text' name='level_primes' example='2,3' style="width: 130px"></td>
      <td><span class="formexample"> e.g. 2,3</span></td>


      <td>{{ KNOWL('mf.elliptic.character', title='Character') }}</td>
      <td>
        <select class="simult_select" name="char_parity" onchange="simult_change(event);">
          <option value="">any parity</option>
          <option value="even">even only</option>
          <option value="odd">odd only</option>
        </select>
      </td>
      <td><input type='text' style="width: 130px;" name='char_label' placeholder='20.d'></td>
      <td><span class="formexample"> e.g. 20.d </td>
    </tr>

    <tr>
      <td colspan=2>{{ KNOWL('character.dirichlet.order', title='Character order') }}</td>
      <td><input type='text' style="width: 130px;" name='char_order' placeholder='1'></td>
      <td><span class="formexample"> e.g. 1, 2-4</td>

      <td colspan=2>{{ KNOWL('character.dirichlet.primitive', title='Primitive character') }}</td>
      <td><input type='text' style="width: 130px;" name='prim_label' placeholder='1.a'></td>
      <td><span class="formexample"> e.g. 1.a </td>

    </tr>

    <tr>
      <td colspan>{{ KNOWL('mf.elliptic.dimension', title='Dim.') }}</td>
      <td>
        <select name="dim_type" style="width: 85px;">
          <option value="">absolute</option>
          <option value="rel">relative</option>
        </select>
      </td>
      <td><input type='text' style="width: 130px;" name='dim' placeholder='1'></td>
      <td><span class="formexample"> e.g. 2, 1-6 </span></td>

      <td colspan=2>{{ KNOWL('mf.elliptic.coefficient_field', title='Coefficient field') }}</td>
      <td><input type='text' style="width: 130px;" name='nf_label' placeholder='1.1.1.1'></td>
      <td><span class="formexample"> e.g. 4.0.144.1, Qsqrt5 </span></td>
    </tr>

    <tr>
      <td colspan=2>{{ KNOWL('mf.elliptic.analytic_conductor', title='Analytic conductor') }}</td>
      <td><input type='text' style="width: 130px;" name='analytic_conductor' placeholder='1-10'></td>
      <td><span class="formexample"> e.g. 1-10</span></td>
      <td colspan=2>{{ KNOWL('mf.elliptic.analytic_conductor', title='\(Nk^2\)') }}</td>
      <td><input type='text' style="width: 130px;" name='Nk2' placeholder='40-100'></td>
      <td><span class="formexample"> e.g. 40-100</span></td>
    </tr>

    <tr>
      <td colspan=2>{{ KNOWL('mf.elliptic.self_twist', title='Self-twists') }}</td>
      <td>
        <select name='has_self_twist' style="width: 140px;">
          {% set self_twist_values = [('', 'unrestricted'), ('yes', 'has CM/RM'), ('cm', 'has CM'), ('rm', 'has RM'), ('cm_and_rm', 'has CM and RM'), ('no', 'no CM/RM')] %}
          {% for val, text in self_twist_values %}
          <option value="{{ val }}">{{ text }}</option>
          {% endfor %}
        </select>
      </td>
      <td></td>
      <td colspan=2>{{ KNOWL('mf.elliptic.self_twist', title='CM/RM discriminant')}}</td>
      <td><input type='text' style="width: 130px;" name='self_twist_discs' placeholder='-3'></td>
      <td><span class="formexample"> e.g. -3 </span></td>
    </tr>

    <tr>
      {#
      <td colspan=2>{{ KNOWL('mf.elliptic.minimal', title='Twist minimal') }}</td>
      <td><select name='is_twist_minimal' style="width: 140px;">
          <option ></option>
          <option value='True'>Yes</option>
          <option value='False'>No</option>
        </select>
      </td>
      <td></td>
      #}
      <td colspan=2>{{ KNOWL('mf.elliptic.inner_twist_multiplicity', title='Inner twist count') }}</td>
      <td>
        <input type='text' style="width: 130px;" name='inner_twist_count' placeholder='1-'></td>
      </td>
      <td><span class="formexample"> e.g. 0, 1-, 2-3</span></td>
      <td colspan=2>{{ KNOWL('mf.elliptic.selfdual', title='Is self-dual') }}</td>
      <td>
        <select name='is_self_dual' style="width: 140px;">
          {% set is_self_dual_values = [('', 'unrestricted'), ('yes', 'yes'), ('no', 'no') ] %}
          {% for val, text in is_self_dual_values %}
          <option value="{{ val }}">{{ text }}</option>
          {% endfor %}
        </select>
      </td>
    </tr>

    <tr>
      <td align=left colspan=2>Results to display</td>
      <td><input type='text' style="width: 130px;" name='count' placeholder='50'></td>
      <td></td>
      <td colspan=2>{{ KNOWL('mf.elliptic.analytic_rank',title='Analytic rank') }}</td>
      <td><input type='text' style="width: 130px;" name='analytic_rank' placeholder='1'></td>
      <td><span class="formexample"> e.g. 1, 2-4</span></td>
    </tr>
  </table>
  <br>
  <table>
    {% for knowl, ktitle, buttons in [('mf.elliptic.newform', 'Newforms', [('List', 'List of forms'), ('Dimensions', 'Dimension Table'), ('Traces', 'Traces Table'), ('Random', 'Random form')])] %}
    <tr>
      <td>Display: </td>
      {% for type, desc in buttons %}
      <td class="button"><button type='submit' name='search_type' value='{{type}}' style="width: 140px;">{{desc}}</button></td>
      {% endfor %}
    </tr>
    {% endfor %}
  </table>
</form>


{% endblock %}
